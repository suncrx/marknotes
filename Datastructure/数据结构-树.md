### 数据结构中的树（Tree）

树是一种重要的非线性数据结构，广泛应用于计算机科学的各个领域，如文件系统、数据库索引、算法设计等。以下是树的主要知识点、重点和难点总结。

### 1. 树的基本概念

#### 定义
- **树（Tree）**：由 \( n \)（\( n \geq 1 \)）个结点组成的有限集合，其中有一个特殊的结点称为根结点，其余结点分为 \( m \)（\( m \geq 0 \)）个互不相交的子集，每个子集本身也是一棵树，称为根结点的子树。

#### 基本术语
- **结点（Node）**：树的基本单位。
- **根结点（Root）**：树的最顶层结点。
- **叶子结点（Leaf）**：没有子结点的结点。
- **父结点（Parent）**：一个结点的直接前驱结点。
- **子结点（Child）**：一个结点的直接后继结点。
- **兄弟结点（Sibling）**：具有相同父结点的结点。
- **结点的度（Degree）**：一个结点拥有的子树数。
- **树的度**：树内各结点的度的最大值。
- **结点的层次（Level）**：从根结点开始，根结点为第1层，其子结点为第2层，依此类推。
- **树的高度（Height）**：树中结点的最大层次。
- **森林（Forest）**：若干棵互不相交的树的集合。

### 2. 二叉树（Binary Tree）

#### 定义
- **二叉树**：每个结点最多有两个子树的有序树，称为左子树和右子树。

#### 特殊类型的二叉树
- **满二叉树（Full Binary Tree）**：每一层上的结点数都达到最大值。
- **完全二叉树（Complete Binary Tree）**：除最后一层外，每一层上的结点数都达到最大值，并且最后一层上的结点都集中在该层最左边的若干位置。
- **平衡二叉树（Balanced Binary Tree）**：一棵空树或左右子树的高度差不超过1的二叉树。
- **二叉搜索树（Binary Search Tree, BST）**：对于树中的每个结点，其左子树上的所有结点的值都小于该结点的值，右子树上的所有结点的值都大于或等于该结点的值。

#### 二叉树的性质
1. **第 \( i \) 层上的结点数最多为 \( 2^{i-1} \) 个**。
2. **高度为 \( k \) 的二叉树最多有 \( 2^k - 1 \) 个结点**。
3. **对于任何一棵非空的二叉树，如果叶子结点数为 \( n_0 \)，度为2的结点数为 \( n_2 \)，则 \( n_0 = n_2 + 1 \)**。
4. **完全二叉树的性质**：
   - 如果完全二叉树的结点按层次顺序编号，则对于编号为 \( i \) 的结点：
     - 如果 \( i > 1 \)，则其父结点的编号为 \( \lfloor i/2 \rfloor \)。
     - 如果 \( 2i \leq n \)，则其左子结点的编号为 \( 2i \)；否则无左子结点。
     - 如果 \( 2i + 1 \leq n \)，则其右子结点的编号为 \( 2i + 1 \)；否则无右子结点。

### 3. 二叉树的存储结构

#### 顺序存储结构
- **定义**：用数组存储二叉树的结点，结点的存储位置与其在二叉树中的层次顺序相对应。
- **特点**：
  - 适用于完全二叉树，空间利用率高。
  - 不适用于稀疏二叉树，可能会浪费大量空间。

#### 链式存储结构
- **定义**：每个结点包含数据域和两个指针域，分别指向其左子结点和右子结点。
- **特点**：
  - 适用于任意形状的二叉树。
  - 插入和删除操作方便。

### 4. 二叉树的遍历

#### 前序遍历（Preorder Traversal）
- **定义**：访问根结点 → 遍历左子树 → 遍历右子树。
- **递归实现**：
  ```python
  def preorder_traversal(root):
      if root is None:
          return
      print(root.value)
      preorder_traversal(root.left)
      preorder_traversal(root.right)
  ```

#### 中序遍历（Inorder Traversal）
- **定义**：遍历左子树 → 访问根结点 → 遍历右子树。
- **递归实现**：
  ```python
  def inorder_traversal(root):
      if root is None:
          return
      inorder_traversal(root.left)
      print(root.value)
      inorder_traversal(root.right)
  ```

#### 后序遍历（Postorder Traversal）
- **定义**：遍历左子树 → 遍历右子树 → 访问根结点。
- **递归实现**：
  ```python
  def postorder_traversal(root):
      if root is None:
          return
      postorder_traversal(root.left)
      postorder_traversal(root.right)
      print(root.value)
  ```

#### 层序遍历（Level-order Traversal）
- **定义**：按层次顺序遍历二叉树，通常使用队列实现。
- **实现**：
  ```python
  from collections import deque

  def level_order_traversal(root):
      if root is None:
          return
      queue = deque([root])
      while queue:
          node = queue.popleft()
          print(node.value)
          if node.left:
              queue.append(node.left)
          if node.right:
              queue.append(node.right)
  ```

### 5. 树的应用

#### 二叉搜索树（BST）
- **定义**：对于树中的每个结点，其左子树上的所有结点的值都小于该结点的值，右子树上的所有结点的值都大于或等于该结点的值。
- **操作**：
  - 插入：保持BST的性质。
  - 删除：保持BST的性质。
  - 查找：时间复杂度为 \( O(\log n) \)（平衡BST）。

#### 平衡二叉树（AVL Tree）
- **定义**：一棵空树或左右子树的高度差不超过1的二叉树。
- **操作**：
  - 插入：插入后可能需要旋转调整，保持平衡。
  - 删除：删除后可能需要旋转调整，保持平衡。

#### 堆（Heap）
- **定义**：一种特殊的完全二叉树，分为最大堆和最小堆。
  - **最大堆**：每个结点的值都大于或等于其子结点的值。
  - **最小堆**：每个结点的值都小于或等于其子结点的值。
- **操作**：
  - 插入：插入新结点后可能需要调整堆。
  - 删除：删除根结点后可能需要调整堆。
  - 堆排序：利用堆的性质进行排序。

### 6. 树的扩展

#### 多叉树（Multiway Tree）
- **定义**：每个结点可以有多个子结点的树。
- **存储结构**：
  - 孩子链表表示法：每个结点包含一个链表，存储其所有子结点。
  - 孩子兄弟表示法：每个结点包含两个指针，分别指向其第一个子结点和下一个兄弟结点。

#### 路径压缩的并查集（Union-Find with Path Compression）
- **定义**：一种用于处理不相交集合的数据结构，支持查找和合并操作。
- **操作**：
  - 查找：路径压缩，将查找路径上的所有结点直接连接到根结点。
  - 合并：按秩合并，将较小的树合并到较大的树上。

### 重点和难点

#### 重点
- **树的基本概念**：理解树的定义、基本术语和性质。
- **二叉树的性质**：掌握二叉树的性质及其应用。
- **二叉树的存储结构**：理解顺序存储和链式存储的特点和适用场景。
- **二叉树的遍历**：掌握前序、中序、后序和层序遍历的递归和非递归实现。
- **二叉搜索树（BST）**：理解BST的性质和操作。
- **平衡二叉树（AVL Tree）**：
<!--stackedit_data:
eyJoaXN0b3J5IjpbLTY2OTg3OTAzXX0=
-->